<!DOCTYPE html>
<html>
<head>
  <!--
    If you are serving your web app in a path other than the root, change the
    href value below to reflect the base path you are serving from.

    The path provided below has to start and end with a slash "/" in order for
    it to work correctly.

    For more details, see:
    https://developer.flutter.dev/deployment/web#base-tag
  -->
  <base href="/demo/">

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="A new Flutter project.">

  <!-- iOS meta tags & icons -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="my_app">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png"/>

  <title>my_app</title>
  <link rel="manifest" href="manifest.json">
</head>
<body>

  <!-- ==================================================================== -->
  <!-- THIS IS THE BLOCK YOU NEED TO ADD                                      -->
  <!-- ==================================================================== -->
  <script>
    // 1. This is just a label for your database path. You can change it.
    var __app_id = "restaurant-demo-v1";

    // 2. Leave this empty ("") to use anonymous sign-in for testing.
    var __initial_auth_token = "";

    // Firebase config will be injected at build time
    var __firebase_config = null;
// Function for Dart to call to get the app ID
    function getAppId() {
      console.log("JS: getAppId called, returning:", __app_id); // Debug log
      return __app_id;
    }

    // Function for Dart to call to get the Firebase config (returns JS object)
    function getFirebaseConfig() {
      // If config not set during build, try to construct from environment or use defaults
      if (!__firebase_config) {
        // Check if environment variables are available (fallback for local development)
        var apiKey = typeof DEMO_FIREBASE_API_KEY !== 'undefined' ? DEMO_FIREBASE_API_KEY : 'demo-api-key';
        var authDomain = typeof DEMO_FIREBASE_AUTH_DOMAIN !== 'undefined' ? DEMO_FIREBASE_AUTH_DOMAIN : 'demo.firebaseapp.com';
        var projectId = typeof DEMO_FIREBASE_PROJECT_ID !== 'undefined' ? DEMO_FIREBASE_PROJECT_ID : 'demo-project';
        var storageBucket = typeof DEMO_FIREBASE_STORAGE_BUCKET !== 'undefined' ? DEMO_FIREBASE_STORAGE_BUCKET : 'demo.firebasestorage.app';
        var messagingSenderId = typeof DEMO_FIREBASE_MESSAGING_SENDER_ID !== 'undefined' ? DEMO_FIREBASE_MESSAGING_SENDER_ID : '123456789';
        var appId = typeof DEMO_FIREBASE_APP_ID !== 'undefined' ? DEMO_FIREBASE_APP_ID : '1:123456789:web:abcdef';
        var measurementId = typeof DEMO_FIREBASE_MEASUREMENT_ID !== 'undefined' ? DEMO_FIREBASE_MEASUREMENT_ID : null;

        __firebase_config = {
          apiKey: apiKey,
          authDomain: authDomain,
          projectId: projectId,
          storageBucket: storageBucket,
          messagingSenderId: messagingSenderId,
          appId: appId
        };

        if (measurementId) {
          __firebase_config.measurementId = measurementId;
        }
      }

      console.log("JS: getFirebaseConfig called, returning:", __firebase_config);
      return __firebase_config;
    }
  </script>
  <!-- ==================================================================== -->
  <!-- END OF BLOCK                                                           -->
  <!-- ==================================================================== -->

  <script src="flutter.js" defer></script>
  <script src="main.dart.js" type="application/javascript"></script>
</body>
</html>
